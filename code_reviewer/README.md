# AI Code Reviewer (Ollama Edition)

–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞ Python, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ VS Code, –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∫–æ–¥-—Ä–µ–≤—å—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–æ–∫–∞–ª—å–Ω—ã—Ö LLM —á–µ—Ä–µ–∑ **Ollama**.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ **gemma3**.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –ø—Ä—è–º–æ –∏–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ VS Code.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä Ollama (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –ø—Ä–∏–≤–∞—Ç–Ω–æ, –±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞ –≤ –æ–±–ª–∞–∫–æ).
- –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–æ–¥ –ø–æ 6 –∫—Ä–∏—Ç–µ—Ä–∏—è–º:
  1. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
  2. –ü—Ä–æ–≤–µ—Ä–∫–∏ (Asserts)
  3. –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å
  4. –•–∞—Ä–¥–∫–æ–¥
  5. DRY (–ø–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å)
  6. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Python 3.8+**
- **Ollama**: –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω. [–°–∫–∞—á–∞—Ç—å Ollama](https://ollama.com/).
- **Model**: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å `gemma3` (–∏–ª–∏ –¥—Ä—É–≥—É—é –∂–µ–ª–∞–µ–º—É—é):
  ```bash
  ollama pull gemma3
  ```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ `code_reviewer`:
   ```bash
   cd code_reviewer
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python:
   ```bash
   pip install -r requirements.txt
   ```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (VS Code)

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π —Ñ–∞–π–ª —Å –∫–æ–¥–æ–º.
2. **–í—ã–¥–µ–ª–∏—Ç–µ –∫–æ–¥**, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å.
3. –ù–∞–∂–º–∏—Ç–µ `Ctrl+Shift+P` -> **Run Task** -> **Local Code Reviewer**.

(–ó–∞–¥–∞—á–∞ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ `.vscode/tasks.json`).

---

## üîÑ –ö–∞–∫ —Å–º–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å (–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è)

–°–∫—Ä–∏–ø—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π API Ollama. –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—É—é –º–æ–¥–µ–ª—å, –¥–æ—Å—Ç—É–ø–Ω—É—é –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ Ollama (Llama 3, Mistral, CodeLlama –∏ —Ç.–¥.).

### –°–ø–æ—Å–æ–±: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –∫–æ–¥–µ (reviewer.py)

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `code_reviewer/reviewer.py`.
2. –ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `analyze_code` (–ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç—Ä–æ–∫–∞ 80).
3. –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è `"model"`.

**–ü—Ä–∏–º–µ—Ä –¥–ª—è Llama 3:**
```python
    payload = {
        "model": "llama3",  # <--- –ü–æ–º–µ–Ω—è–π—Ç–µ "gemma3" –Ω–∞ "llama3"
        "messages": [
            {"role": "user", "content": prompt}
        ],
        "stream": False
    }
```

**–ü—Ä–∏–º–µ—Ä –¥–ª—è DeepSeek Coder:**
```python
    payload = {
        "model": "deepseek-coder",  # <--- –ü–æ–º–µ–Ω—è–π—Ç–µ –Ω–∞ –∏–º—è –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏
        ...
    }
```

> **–í–∞–∂–Ω–æ:** –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª: `ollama pull llama3` –∏–ª–∏ `ollama pull deepseek-coder`.

---

## ‚å®Ô∏è –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —É–¥–æ–±–Ω—ã–π —à–æ—Ä—Ç–∫–∞—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Ctrl+Alt+R`):

1. `File > Preferences > Keyboard Shortcuts` (`Ctrl+K Ctrl+S`).
2. –û—Ç–∫—Ä–æ–π—Ç–µ JSON (–∏–∫–æ–Ω–∫–∞ —Å–ø—Ä–∞–≤–∞ —Å–≤–µ—Ä—Ö—É).
3. –î–æ–±–∞–≤—å—Ç–µ:

```json
{
    "key": "ctrl+alt+r",
    "command": "workbench.action.tasks.runTask",
    "args": "Local Code Reviewer"
}
```